FROM python:3
ADD requirements.txt /app/requirements.txt
ADD container_feeder.py /app/container_feeder.py
ADD container_operations.py /app/container_operations.py
ADD queuing_manager.py /app/queuing_manager.py
ADD job_feeder.py /app/job_feeder.py
ADD job_operations.py /app/job_operations.py
ADD job_queuing_worker.py /app/job_queuing_worker.py
WORKDIR /app/
RUN mkdir log
RUN pip install -r requirements.txt
RUN pip install -U "celery[redis]"
ENTRYPOINT python3 queuing_manager.py